require=function(){function d(a,s,o){function u(r,e){if(!s[r]){if(!a[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[r]={exports:{}};a[r][0].call(n.exports,function(e){var t=a[r][1][e];return u(t||e)},n,n.exports,d,a,s,o)}return s[r].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)u(o[e]);return u}return d}()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createWixDataProxy=i;function i(t){return{save:function e(){return t.getJSON("/wix/data-web.jsw/save.ajax",arguments)},insert:function e(){return t.getJSON("/wix/data-web.jsw/insert.ajax",arguments)},update:function e(){return t.getJSON("/wix/data-web.jsw/update.ajax",arguments)},get:function e(){return t.getJSON("/wix/data-web.jsw/get.ajax",arguments)},distinct:function e(){return t.getJSON("/wix/data-web.jsw/distinct.ajax",arguments)},truncate:function e(){return t.getJSON("/wix/data-web.jsw/truncate.ajax",arguments)},remove:function e(){return t.getJSON("/wix/data-web.jsw/remove.ajax",arguments)},find:function e(){return t.getJSON("/wix/data-web.jsw/find.ajax",arguments)},runAggregate:function e(){return t.getJSON("/wix/data-web.jsw/runAggregate.ajax",arguments)},count:function e(){return t.getJSON("/wix/data-web.jsw/count.ajax",arguments)},bulkInsert:function e(){return t.getJSON("/wix/data-web.jsw/bulkInsert.ajax",arguments)},bulkSave:function e(){return t.getJSON("/wix/data-web.jsw/bulkSave.ajax",arguments)},bulkUpdate:function e(){return t.getJSON("/wix/data-web.jsw/bulkUpdate.ajax",arguments)},bulkRemove:function e(){return t.getJSON("/wix/data-web.jsw/bulkRemove.ajax",arguments)},queryReferenced:function e(){return t.getJSON("/wix/data-web.jsw/queryReferenced.ajax",arguments)},insertReference:function e(){return t.getJSON("/wix/data-web.jsw/insertReference.ajax",arguments)},insertReferences:function e(){return t.getJSON("/wix/data-web.jsw/insertReferences.ajax",arguments)},replaceReferences:function e(){return t.getJSON("/wix/data-web.jsw/replaceReferences.ajax",arguments)},removeReference:function e(){return t.getJSON("/wix/data-web.jsw/removeReference.ajax",arguments)},removeReferences:function e(){return t.getJSON("/wix/data-web.jsw/removeReferences.ajax",arguments)},isReferenced:function e(){return t.getJSON("/wix/data-web.jsw/isReferenced.ajax",arguments)},getSchema:function e(){return t.getJSON("/wix/data-web.jsw/getSchema.ajax",arguments)}}}},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=o;var i=e("@wix/wix-data-core"),n=i.WixDataApi;var a=e("./create-wix-data-proxy"),s=a.createWixDataProxy;function o(e){return new n(s(e))}},{"./create-wix-data-proxy":1,"@wix/wix-data-core":15}],3:[function(e,t,r){function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}t.exports=i;t.exports["default"]=t.exports,t.exports.__esModule=true},{}],4:[function(e,t,r){function i(e){return e&&e.__esModule?e:{default:e}}t.exports=i;t.exports["default"]=t.exports,t.exports.__esModule=true},{}],5:[function(e,t,r){"use strict";function i(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(t){return typeof t}}else{i=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return i(e)}var n="User";var a="Error";var s="EDM";var o="Unknown";var u=function e(t,r){if(t&&i(t)==="object"){t.errorGroup=r}};var l=function e(t){return u(t,n)};var d=function e(t){return u(t,a)};var c=function e(t){return u(t,s)};var f=function e(t){return t&&t.errorGroup===n};var h=function e(t){return t&&t.errorGroup===a};var m=function e(t){return t&&t.errorGroup===s};var p=function e(t){if(!t){return false}return t.errorGroup!==undefined};t.exports={markUserError:l,isUserError:f,markAppError:d,isAppError:h,markEdmError:c,isEdmError:m,markError:u,isMarked:p,USER_ERROR_GROUP:n,APP_ERROR_GROUP:a,EDM_ERROR_GROUP:s,UNKNOWN_ERROR_GROUP:o}},{}],6:[function(e,t,r){"use strict";function i(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(t){return typeof t}}else{i=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return i(e)}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)n(e,t)}function n(e,t){n=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return n(e,t)}function u(n){var a=c();return function e(){var t=f(n),r;if(a){var i=f(this).constructor;r=Reflect.construct(t,arguments,i)}else{r=t.apply(this,arguments)}return l(this,r)}}function l(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function a(t){function e(){var e=Reflect.construct(t,Array.from(arguments));Object.setPrototypeOf(e,Object.getPrototypeOf(this));return e}e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}else{e.__proto__=t}return e}var h=e("./error-marks");var m=function(e){o(a,e);var n=u(a);function a(){var e;s(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++){r[i]=arguments[i]}e=n.call.apply(n,[this].concat(r));if(Error.captureStackTrace){Error.captureStackTrace(d(e),e.constructor)}e.name=a.name;h.markUserError(d(e));return e}return a}(a(Error));t.exports={UserCodeError:m}},{"./error-marks":5}],7:[function(e,t,r){"use strict";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(e){i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,i)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){i(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var s=e("./errors");var o=e("./error-marks");t.exports=n(n({},s),o)},{"./error-marks":5,"./errors":6}],8:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.platformizedFilterBuilder=o;r.filterBuilderFactory=u;r.default=r.PlatformizedFilterBuilder=r.FilterBuilder=void 0;var n=i(e("./filterMixin"));class a extends(0,n.default)(){get constructorName(){return"FilterBuilder"}_build(){return this.getFilterModel()}}r.FilterBuilder=a;class s extends(0,n.default)(){in(...e){return this._AndSetOperand("$in",".in",e)}exists(...e){return this._binaryAnd("$exists",".exists",e)}gte(e,t){return this.ge(e,t)}lte(e,t){return this.le(e,t)}build(){return this.getFilterModel()}}r.PlatformizedFilterBuilder=s;function o(){return new s({})}function u(){return new a({})}var l=u;r.default=l},{"./filterMixin":9,"@babel/runtime/helpers/interopRequireDefault":4}],9:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.default=r.FilterValidator=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var d=e("@wix/wix-data-utils");var a=e("@wix/wix-data-errors");var s=e("./queryOptimiser");const o=(e=class{})=>class extends e{constructor(e={}){super(e);(0,n.default)(this,"filterTree",void 0);(0,n.default)(this,"invalidArguments",void 0);this.filterTree=e.filterTree||{$and:[]};this.invalidArguments=e.invalidArguments||[]}eq(...e){return this._binaryAnd("$eq",".eq",e)}ne(...e){return this._binaryAnd("$ne",".ne",e)}ge(...e){return this._AndLogicalEquivalence("$gte",".ge",e)}gt(...e){return this._AndLogicalEquivalence("$gt",".gt",e)}le(...e){return this._AndLogicalEquivalence("$lte",".le",e)}lt(...e){return this._AndLogicalEquivalence("$lt",".lt",e)}isNotEmpty(e){const t=this._filterValidator(".isNotEmpty").arityIsOne(arguments).validFieldName(e).validateAndAggregate(),r=t[0],i=t[1];if(i){return this.ne(e,null)}return this._copy(this.filterTree,r)}isEmpty(e){const t=this._filterValidator(".isEmpty").arityIsOne(arguments).validFieldName(e).validateAndAggregate(),r=t[0],i=t[1];if(i){return this.eq(e,null)}return this._copy(this.filterTree,r)}startsWith(...e){return this._AndStringOperand("$startsWith",".startsWith",e)}endsWith(...e){return this._AndStringOperand("$endsWith",".endsWith",e)}contains(...e){return this._AndStringOperand("$contains",".contains",e)}hasSome(...e){return this._AndSetOperand("$hasSome",".hasSome",e)}hasAll(...e){return this._AndSetOperand("$hasAll",".hasAll",e)}or(e){const t=y(e,this.collectionName);const r=this._filterValidator(".or").arityIsOne(arguments).isInstanceOfSameClass(t).isForCollection(t,this.collectionName).validateAndAggregate(),i=r[0],n=r[1];if(n){const a=v(this.filterTree)?[]:[this.filterTree];return this._copy(h({$or:[...a,t.filterTree]}),i.concat(t.invalidArguments))}else{return this._copy(this.filterTree,i)}}and(e){const t=y(e,this.collectionName);const r=this._filterValidator(".and").arityIsOne(arguments).isInstanceOfSameClass(t).isForCollection(t,this.collectionName).validateAndAggregate(),i=r[0],n=r[1];if(n){const a=v(this.filterTree)?[]:[this.filterTree];return this._copy(h(...a,t.filterTree),i.concat(t.invalidArguments))}else{return this._copy(this.filterTree,i)}}not(e){const t=y(e,this.collectionName);const r=this._filterValidator(".not").arityIsOne(arguments).isInstanceOfSameClass(t).isForCollection(t,this.collectionName).validateAndAggregate(),i=r[0],n=r[1];if(n){const a=(0,d.clone)(this.filterTree);const s={$not:[t.filterTree]};const o=m(a,s);return this._copy(o,i.concat(t.invalidArguments))}else{return this._copy(this.filterTree,i)}}between(e,t,r){const i=this._filterValidator(".between").arityIsThree(arguments).sameType(t,r).typeIsStringNumberOrDate(t).typeIsStringNumberOrDate(r).validateAndAggregate(),n=i[0],a=i[1];if(a){return this.ge(e,t).lt(e,r)}return this._copy(this.filterTree,n)}getFilterModel(){if(this.invalidArguments.length>0){throw(0,a.validationError)(a.messages.filterBuilderInvalid(this.invalidArguments))}return(0,s.optimisedQuery)(this.filterTree)}setFilterModel(e){return this._copy(e,[])}_matchesUrlized(e,t){const r=this._filterValidator("._matchesUrlized").arityIsTwo(arguments).validFieldName(e).typeIsString(t).validateAndAggregate(),i=r[0],n=r[1];if(n){const a=this._makeNewFilter(e,...u(t));return this._copy(a,i)}return this._copy(this.filterTree,i)}_binaryAnd(e,t,r){const i=Array.prototype.slice.call(r),n=i[0],a=i[1];const s=this._filterValidator(t).arityIsTwo(r).validFieldName(n).validateAndAggregate(),o=s[0];const u=this._makeNewFilter(n,e,a);return this._copy(u,o)}_AndLogicalEquivalence(e,t,r){const i=Array.prototype.slice.call(r),n=i[0],a=i[1];const s=this._filterValidator(t).arityIsTwo(r).validFieldName(n).typeIsStringNumberOrDate(a).validateAndAggregate(),o=s[0];const u=this._makeNewFilter(n,e,a);return this._copy(u,o)}_AndStringOperand(e,t,r){const i=Array.prototype.slice.call(r),n=i[0],a=i[1];const s=this._filterValidator(t).arityIsTwo(r).validFieldName(n).typeIsString(a).validateAndAggregate(),o=s[0];const u=this._makeNewFilter(n,e,a);return this._copy(u,o)}_AndSetOperand(e,t,r){const i=Array.prototype.slice.call(r),n=i[0],a=i.slice(1);const s=(0,d.isArray)(a[0])?a[0]:a;const o=this._filterValidator(t).arityIsAtLeastTwo(r).validFieldName(n).typeIsStringNumberOrDateForAll(s).validateAndAggregate(),u=o[0];const l=this._makeNewFilter(n,e,s);return this._copy(l,u)}_makeNewFilter(e,t,r){const i=(0,d.clone)(this.filterTree);const n=this._buildFilter(e,t,r);if((0,d.isArray)(i.$and)){i.$and.push(n);return i}else{const a=f(i)?h(n):h(i,n);return a}}_buildFilter(e,t,r){if(t!=="$eq"){const i={};i[e]={};i[e][t]=this._replaceRefs(r);return i}else{const i={};i[e]=this._replaceRefs(r);return i}}_replaceRefs(e){if((0,d.isArray)(e)){return e.map(e=>this._replaceRefs(e))}else{return e}}_copy(e,t){return new this.constructor({...this,filterTree:e,invalidArguments:t})}_filterValidator(e){return new p(e,this.invalidArguments,this.constructor,this.constructorName)}};function u(e){if(t(e)){return["$in",[e,Number.parseInt(e)]]}else{return["$matches",{ignoreCase:true,spec:l(e)}]}function t(e){return/^-?[0-9]{1,16}$/.test(e)}}function l(e){const t=e.split("-");const r=[];for(let e=0;e<t.length-1;e++){i(r,t[e]);n(r)}i(r,t[t.length-1]);return r;function i(e,t){if(t.length!==0){e.push({type:"literal",value:t})}}function n(e){e.push({type:"anyOf",value:" \t\n-"})}}function c(e){return(0,d.isArray)(e.$and)}function f(e){return Object.keys(e).length===0}function h(...e){return{$and:e}}function m(...e){return{$and:e.reduce((e,t)=>c(t)?e.concat(t.$and):e.concat([t]),[])}}class p extends a.AggregatingValidator{constructor(e,t,r,i){super(t);(0,n.default)(this,"ctor",void 0);(0,n.default)(this,"constructorName",void 0);this.operatorName=e;this.ctor=r;this.constructorName=i}typeIsString(e){return this.addValidation(()=>(0,d.isString)(e),()=>a.messages.filterValidations.typeIsString(this.operatorName,e))}typeIsStringNumberOrDate(e){return this.addValidation(()=>g(e),()=>a.messages.filterValidations.typeIsStringNumberOrDate(this.operatorName,e))}sameType(e,t){return this.addValidation(()=>(0,d.typeForDisplay)(e)===(0,d.typeForDisplay)(t),()=>a.messages.filterValidations.sameType(this.operatorName,e,t))}typeIsStringNumberOrDateForAll(e){return this.addValidation(()=>e.every(g),()=>a.messages.filterValidations.typeIsStringNumberOrDateForAll(this.operatorName))}validFieldName(e){return this.addValidation(()=>(0,d.isString)(e),()=>a.messages.filterValidations.validFieldName(this.operatorName,e))}isInstanceOfSameClass(e){return this.addValidation(()=>e instanceof this.ctor,()=>a.messages.filterValidations.isInstanceOfSameClass(this.operatorName,this.constructorName,e))}isForCollection(e,t){return this.addValidation(()=>e.collectionName===t,()=>a.messages.filterValidations.isForCollection(this.operatorName,this.constructorName,e.collectionName))}}r.FilterValidator=p;function g(e){return(0,d.isString)(e)||(0,d.isNumber)(e)||(0,d.isDate)(e)}function y(e,t){if(!e||!e.constructor){return e}const r=e.collectionName?e.collectionName:t;return new e.constructor({...e,collectionName:r})}function v(e){return e&&e.$and&&e.$and.length===0}var b=o;r.default=b},{"./queryOptimiser":11,"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],10:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.default=void 0;var n=e("./filterBuilder");r.filterBuilderFactory=n.filterBuilderFactory;r.platformizedFilterBuilder=n.platformizedFilterBuilder;var a=i(e("./filterMixin"));r.filterMixin=a.default;var s=e("./queryOptimiser");r.optimiseQuery=s.optimisedQuery;var o=n.platformizedFilterBuilder;r.default=o},{"./filterBuilder":8,"./filterMixin":9,"./queryOptimiser":11,"@babel/runtime/helpers/interopRequireDefault":4}],11:[function(e,t,r){"use strict";r.__esModule=true;r.optimisedQuery=n;const i=[o,u,l,d,c];function n(e){const t=f(e),r=t[0];return r}function f(e){if(Array.isArray(e)){return a(e)}if(typeof e==="object"&&e!==null&&!m(e)){return s(e)}return[e,false]}function a(e){const t=e.map(f);const r=0<t.filter(([,e])=>e).length;const i=t.map(([e])=>e);return[i,r]}function s(e){const t=l(e),r=t[0],i=t[1];const n=u(r),a=n[0],s=n[1];const o=i||s;return[a,o];function u(e){const t=h(e);if(!t){return[e,false]}const r=f(t),i=r[0];return[i,true]}function l(e){const t=Object.entries(e).map(d).filter(([,,e])=>e);const r={...e,...c(t)};const i=!!t.length;return[r,i]}function d([e,t]){const r=f(t),i=r[0],n=r[1];return[e,i,n]}function c(e){return e.reduce((e,[t,r])=>({...e,[t]:r}),{})}}function h(e){for(const t of i){const r=t(e);if(r){return r}}}function o(e){const t=e.$and;if(Array.isArray(t)&&t.length===1){return t[0]}}function u(e){const t=e.$and;if(Array.isArray(t)&&t.length===0){return{}}return null}function l(e){const t=e.$and;if(!t){return}let r=[];let i=[];t.forEach(e=>{if(a(e)){i=[...i,e]}else{r=[...r,e]}});if(r.length<=1||s(r)){return}const n=Object.assign({},...r);return{$and:[n,...i]};function a(e){const t=Object.keys(e);return t.every(e=>e.startsWith("$"))&&t.length>0}function s(e){const t=e.map(e=>Object.keys(e)).reduce((e,t)=>[...e,...t],[]);const r=o(t);return r.length!==t.length}function o(e){const t={};e.forEach(e=>t[e]=true);return Object.keys(t)}}function d(e){const t=e.$and;if(!t){return}const r=!!t.find(e=>e.$and);if(!r){return}const i=t.reduce((e,t)=>{const r=t.$and;if(!r){return[...e,t]}return[...e,...r]},[]);return{$and:i}}function c(e){const t=e.$or;if(!t){return}const r=!!t.find(e=>e.$or);if(!r){return}const i=t.reduce((e,t)=>{const r=t.$or;if(!r){return[...e,t]}return[...e,...r]},[]);return{$or:i}}function m(e){return e instanceof Date}},{}],12:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.aggregateFactory=h;r.WixDataAggregateResult=r.WixDataAggregate=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var a=i(e("./sort/sortMixin"));var s=e("@wix/wix-data-errors");var o=e("./group");var u=e("@wix/wix-data-utils");class l extends(0,a.default)((0,o.groupMixin)()){constructor(e={}){super(e);(0,n.default)(this,"provider",void 0);(0,n.default)(this,"collectionName",void 0);(0,n.default)(this,"filterTree",void 0);(0,n.default)(this,"havingTree",void 0);(0,n.default)(this,"skipNumber",void 0);(0,n.default)(this,"limitNumber",void 0);(0,n.default)(this,"invalidArguments",void 0);this.provider=e.provider;this.collectionName=e.collectionName;this.filterTree=e.filterTree;this.havingTree=e.havingTree;this.skipNumber=e.skipNumber||0;this.limitNumber=e.limitNumber||50;this.invalidArguments=e.invalidArguments||[]}filter(e){const t=this._aggregateValidator(".filter").arityIsOne(arguments).filterIsNotSet(this).filterBuilder(e).validateAndAggregate(),r=t[0];return new l({provider:this.provider,collectionName:this.collectionName,filterTree:e.filterTree,groupByTree:this.groupByTree,havingTree:this.havingTree,skipNumber:this.skipNumber,limitNumber:this.limitNumber,orderBy:this.orderBy,invalidArguments:r.concat(e.invalidArguments)})}group(...e){let t=(0,u.clone)(this.groupByTree);const r=this._aggregateValidator(".group").arityIsAtLeastOne(arguments).groupIsNotSet(t).validateAndAggregate(),i=r[0];if(!t){t={_id:(0,o.formId)(...e)}}else if(t._id==="0"){t={...t,_id:(0,o.formId)(...e)}}return new l({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,groupByTree:t,havingTree:this.havingTree,skipNumber:this.skipNumber,limitNumber:this.limitNumber,orderBy:this.orderBy,invalidArguments:i})}having(e){const t=this._aggregateValidator(".having").arityIsOne(arguments).havingIsNotSet(this).filterBuilder(e).validateAndAggregate(),r=t[0];return new l({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,groupByTree:this.groupByTree,havingTree:e.filterTree,skipNumber:this.skipNumber,limitNumber:this.limitNumber,orderBy:this.orderBy,invalidArguments:r.concat(e.invalidArguments)})}skip(e){const t=this._aggregateValidator(".skip").arityIsOne(arguments).isNonNegativeNumber(e).isInteger(e).validateAndAggregate(),r=t[0];return new l({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,groupByTree:this.groupByTree,havingTree:this.havingTree,skipNumber:e,limitNumber:this.limitNumber,orderBy:this.orderBy,invalidArguments:r})}limit(e){const t=this._aggregateValidator(".limit").arityIsOne(arguments).isPositiveNumber(e).isInteger(e).validateAndAggregate(),r=t[0];return new l({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,groupByTree:this.groupByTree,havingTree:this.havingTree,skipNumber:this.skipNumber,limitNumber:e,orderBy:this.orderBy,invalidArguments:r})}run(e){const t=this;const r=this._buildPipeline();return d(this.invalidArguments,this.collectionName).then(()=>(0,s.apiValidator)().options(e).validateAndReject()).then(()=>this.provider.runAggregate(this.collectionName,r,this.limitNumber,e)).then(e=>{return new m({items:e.items,hasNext:e.hasNext,aggregate:t,pageSize:this.limitNumber})})}_buildPipeline(){return[this.filterTree?{$match:this.filterTree}:null,this.groupByTree?{$group:this.groupByTree}:null,this.groupByTree?{$project:c(this.groupByTree)}:null,this.havingTree?{$match:this.havingTree}:null,this.orderBy.length>0?{$sort:this.orderBy}:null,{$skip:this.skipNumber}].filter(e=>e!==null)}_aggregateValidator(e){return new g(e,this.invalidArguments)}}r.WixDataAggregate=l;function d(e,t){if(e.length>0){return Promise.reject((0,s.validationError)(s.messages.aggregateValidations.aggregateInvalid(t,e)))}else{return Promise.resolve()}}function c(e){const t=Object.keys(e);const r=t.map(e=>({[e]:1}));if((0,u.isObject)(e._id)){r.push(f(e._id))}else if((0,u.isString)(e._id)&&e._id!=="0"){r.push({[e._id.substr(1)]:"$_id"})}return Object.assign({},...r)}function f(e){const t=Object.keys(e);const r=t.map(e=>({[e]:`$_id.${e}`}));return Object.assign({},...r)}function h(e,t){return new l({provider:e,collectionName:t,skip:0,limit:50})}class m{constructor(e){(0,n.default)(this,"_items",void 0);(0,n.default)(this,"_hasNext",void 0);(0,n.default)(this,"_aggregate",void 0);(0,n.default)(this,"_pageSize",void 0);if(!e){return}this._items=e.items;this._hasNext=e.hasNext;this._aggregate=e.aggregate;this._pageSize=e.pageSize}get items(){return this._items}hasNext(){return this._hasNext}get length(){return this._items.length}next(){const e=this._aggregate;if(this.hasNext()){const t=e.skip(e.skipNumber+this._pageSize);return t.run()}}}r.WixDataAggregateResult=m;const p=9007199254740991;class g extends s.AggregatingValidator{constructor(e,t){super(t);this.operatorName=e}filterBuilder(e){return this.addValidation(()=>e.constructorName==="FilterBuilder",()=>s.messages.aggregateValidations.filterMustBeBuilder(this.operatorName))}filterIsNotSet(e){return this.addValidation(()=>e.filterTree===undefined,()=>s.messages.aggregateValidations.filterIsAlreadySet(this.operatorName))}havingIsNotSet(e){return this.addValidation(()=>e.havingTree===undefined,()=>s.messages.aggregateValidations.filterIsAlreadySet(this.operatorName))}groupIsNotSet(e){return this.addValidation(()=>y(e),()=>s.messages.aggregateValidations.groupIsAlreadySet(this.operatorName))}_isNumber(e,t){return this.addValidation(()=>(0,u.isNumber)(t),()=>s.messages.queryValidations.isNumber(this.operatorName,e,t))}isPositiveNumber(e){return this._isNumber("positive",e).addValidation(()=>!Number.isNaN(e)&&e>0,()=>s.messages.queryValidations.isPositiveNumber(this.operatorName,e))}isNonNegativeNumber(e){return this._isNumber("non-negative",e).addValidation(()=>!Number.isNaN(e)&&e>=0,()=>s.messages.queryValidations.isNonNegativeNumber(this.operatorName,e))}isInteger(e){return this.addValidation(()=>!Number.isNaN(e)&&Number.isFinite(e)&&Number.isInteger(e)&&e<p&&e>-p,()=>s.messages.queryValidations.isInteger(this.operatorName,e))}}function y(e){return e?e._id==="0":true}},{"./group":14,"./sort/sortMixin":20,"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],13:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.default=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var a=e("./query");var s=e("./group");var o=e("./aggregate");var u=e("@wix/platformized-filter-builder");var l=e("./sort/sortBuilder");var d=e("@wix/wix-data-errors");var c=e("@wix/wix-data-utils");var f=e("./multiref");var h=e("./utils/field-key-utils");class m{constructor(e){(0,n.default)(this,"provider",void 0);this.provider=e}get(e,t,r){return(0,d.apiValidator)().arity("get",arguments,2,3).collectionName(e).itemId(t).options(r).validateAndReject().then(()=>this.provider.get(e,t,r)).then(y)}insert(e,t,r){return(0,d.apiValidator)().arity("insert",arguments,2,3).validateAndReject().then(()=>g(this.provider,"insert")(e,t,r))}query(e){return(0,a.queryFactory)(this.provider,e)}filter(){return(0,u.filterBuilderFactory)()}sort(){return(0,l.sortBuilderFactory)()}find(e,t,r,i,n,a,s,o){return this.provider.find(e,t,r,i,n,a,s,o).then(p)}remove(e,t,r){return(0,d.apiValidator)().arity("remove",arguments,2,3).collectionName(e).itemId(t).options(r).validateAndReject().then(()=>this.provider.remove(e,t,r)).then(y)}truncate(e,t){return(0,d.apiValidator)().arity("truncate",arguments,1,2).collectionName(e).options(t).validateAndReject().then(()=>this.provider.truncate(e,t)).then(y)}bulkRemove(e,t,r){return(0,d.apiValidator)().arity("bulkRemove",arguments,2,3).collectionName(e).itemIds(t,e).options(r).validateAndReject().then(()=>this.provider.bulkRemove(e,t,r)).then(y).then(e=>{const t=e.errors.map(e=>new d.BulkError(e.message,e.code,e.item,e.name,e.originalIndex));return{...e,errors:t}})}save(e,t,r){return(0,d.apiValidator)().arity("save",arguments,2,3).validateAndReject().then(()=>g(this.provider,"save")(e,t,r))}update(e,t,r){return(0,d.apiValidator)().arity("update",arguments,2,3).validateAndReject().then(()=>g(this.provider,"update",true)(e,t,r))}queryReferenced(i,n,a,s){return(0,d.apiValidator)().arity("queryReferenced",arguments,3,4).referenceParameter(n).validateAndReject().then(()=>{const t=N(n);const e=s||{};const r=e.limit?e:{...e,limit:50};return this.provider.queryReferenced(i,t,a,r).then(e=>new f.WixDataQueryReferencedResult(this.provider,i,a,t,e,r))})}insertReference(e,t,r,i,n){const a=arguments;const s=e=>e.map(e=>({relationshipName:e.relationshipName,left:N(e.left),right:N(e.right)}));let o;let u;let l;if((0,c.isArray)(t)){u=t;o=r;l=()=>(0,d.apiValidator)().arity("insertReference",a,2,3).references(u).validateAndReject()}else{u=b(i).map(e=>({relationshipName:t,left:r,right:e}));o=n;l=()=>(0,d.apiValidator)().arity("insertReference",a,4,5).references(u).validateAndReject()}return l().then(()=>this.provider.insertReferences(e,s(u),o))}replaceReferences(e,t,r,i,n){i=b(i).map(N);r=N(r);return(0,d.apiValidator)().arity("replaceReferences",arguments,4,5).referenceParameter(r).referenceParameters(i).validateAndReject().then(()=>this.provider.replaceReferences(e,{relationshipName:t,left:r},i.map(e=>({relationshipName:t,right:e,left:r})),n))}removeReference(e,t,r,i,n){i=b(i).map(N);r=N(r);return(0,d.apiValidator)().arity("removeReference",arguments,4,5).referenceParameter(r).referenceRemoveParameters(i).validateAndReject().then(()=>{if(i.length===1){return this.provider.removeReference(e,t,r,i[0],n)}else{return this.provider.removeReferences(e,i.map(e=>({relationshipName:t,right:e,left:r})),n)}})}isReferenced(e,t,r,i,n){return(0,d.apiValidator)().arity("isReferenced",arguments,4,5).referenceParameter(r).referenceParameter(i).validateAndReject().then(()=>this.provider.isReferenced(e,t,N(r),N(i),n))}bulkInsert(e,t,r){return(0,d.apiValidator)().arity("bulkInsert",arguments,2,3).validateAndReject().then(()=>this.provider.bulkInsert(e,t,r)).then(e=>{const t=e.errors.map(e=>new d.BulkError(e.message,e.code,e.item,e.name,e.originalIndex));return{...e,errors:t}})}bulkSave(e,t,r){return(0,d.apiValidator)().arity("bulkSave",arguments,2,3).validateAndReject().then(()=>this.provider.bulkSave(e,t,r)).then(e=>{const t=e.errors.map(e=>new d.BulkError(e.message,e.code,e.item,e.name,e.originalIndex));return{...e,errors:t}})}bulkUpdate(e,t,r){return(0,d.apiValidator)().arity("bulkUpdate",arguments,2,3).validateAndReject().then(()=>this.provider.bulkUpdate(e,t,r)).then(e=>{const t=e.errors.map(e=>new d.BulkError(e.message,e.code,e.item,e.name,e.originalIndex));return{...e,errors:t}})}getSchema(){return this.provider.getSchema()}group(...e){return(0,s.groupFactory)(...e)}aggregate(e){return(0,o.aggregateFactory)(this.provider,e)}}r.default=m;function p(e){const t=e.totalCount;if(e.hasOwnProperty("items")){return{totalCount:t,items:e.items}}else{const r=e.items;return{totalCount:t,items:r}}}function g(i,n,a=false){return(e,t,r)=>(0,d.apiValidator)().collectionName(e).item(t,e,a).options(r).validateAndReject().then(()=>A(t)).then(()=>i[n](e,t,r)).then(y).then(v(t))}function y(e){if(e&&e.hasOwnProperty("item")){return e.item}else{return e}}function v(n){return function e(t){if(t){for(const i in t){if(t.hasOwnProperty(i)){var r;if(!n.hasOwnProperty(i)||((r=Object.getOwnPropertyDescriptor(n,i))==null?void 0:r.writable)===true){n[i]=t[i]}}}for(const i in n){if(!t.hasOwnProperty(i)){delete n[i]}}return n}else{return undefined}}}function b(e){if((0,c.isArray)(e)){return e}return[e]}function N(e){return(0,c.isObject)(e)?e._id:e}function A(e){const t=(0,h.hasField)(e,e=>e.startsWith("$"));const r=(0,h.hasField)(e,e=>e.includes("."));if(t){console.error("Data inserted contains field name prefixed with symbol '$'. It is not recommended to use such field names as it will not work with some data operations.")}if(r){console.error("Data inserted contains field name containing symbol '.'. It is not recommended to use such field names as it will not work with some data operations.")}}},{"./aggregate":12,"./group":14,"./multiref":16,"./query":18,"./sort/sortBuilder":19,"./utils/field-key-utils":21,"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/platformized-filter-builder":10,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],14:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.groupFactory=f;r.formId=h;r.WixDataGroupBuilder=r.groupMixin=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var o=e("@wix/wix-data-utils");var a=e("@wix/wix-data-errors");const s=(e=class{})=>class extends e{constructor(e={}){super(e);(0,n.default)(this,"groupByTree",void 0);(0,n.default)(this,"invalidArguments",void 0);this.groupByTree=e.groupByTree;this.invalidArguments=e.invalidArguments||[]}sum(e,t){const r=this._groupValidator(".sum").arityIsAtLeastOne(arguments).typeIsString(e).validateAndAggregate(),i=r[0];return this._addAccumulator("sum",e,t,i)}avg(e,t){const r=this._groupValidator(".avg").arityIsAtLeastOne(arguments).typeIsString(e).validateAndAggregate(),i=r[0];return this._addAccumulator("avg",e,t,i)}min(e,t){const r=this._groupValidator(".min").arityIsAtLeastOne(arguments).typeIsString(e).validateAndAggregate(),i=r[0];return this._addAccumulator("min",e,t,i)}max(e,t){const r=this._groupValidator(".max").arityIsAtLeastOne(arguments).typeIsString(e).validateAndAggregate(),i=r[0];return this._addAccumulator("max",e,t,i)}count(){const e=this._groupValidator(".count").arityIsZero(arguments).validateAndAggregate(),t=e[0];const r=(0,o.clone)(this.groupByTree)||{_id:h()};const i="count";const n={$sum:1};r[i]=n;return this._copy(r,t)}_addAccumulator(e,t,r,i){const n=(0,o.clone)(this.groupByTree)||{_id:h()};const a=r||t+c(e);const s={};s[`$${e}`]=`$${t}`;n[a]=s;return this._copy(n,i)}_copy(e,t){return new this.constructor({...this,groupByTree:e,invalidArguments:t})}_groupValidator(e){return new d(e,this.invalidArguments)}};r.groupMixin=s;class u extends s(){_build(){l(this.invalidArguments);return this.groupByTree}}r.WixDataGroupBuilder=u;function l(e){if(e.length>0){throw(0,a.validationError)(a.messages.groupBuilderInvalid(e))}}class d extends a.AggregatingValidator{constructor(e,t){super(t);this.operatorName=e}typeIsString(e){return this.addValidation(()=>(0,o.isString)(e),()=>a.messages.filterValidations.typeIsString(this.operatorName,e))}}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(...e){const t=h(...e);return m(t)}function h(...e){if(e.length===1){return`$${e}`}else if(e.length>1){const t={};e.forEach(e=>t[e]=`$${e}`);return t}else{return"0"}}function m(e){return new u({groupByTree:{_id:e}})}},{"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],15:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;var n={WixDataApi:true,WixDataAggregateResult:true,WixDataQueryReferencedResult:true,queryFactory:true,WixDataQuery:true,sortBuilderFactory:true};r.sortBuilderFactory=r.WixDataQuery=r.queryFactory=r.WixDataQueryReferencedResult=r.WixDataAggregateResult=r.WixDataApi=void 0;var a=i(e("./data-api"));r.WixDataApi=a.default;var s=e("./aggregate");r.WixDataAggregateResult=s.WixDataAggregateResult;var o=e("./multiref");r.WixDataQueryReferencedResult=o.WixDataQueryReferencedResult;var u=e("./query");r.queryFactory=u.queryFactory;r.WixDataQuery=u.WixDataQuery;var l=e("./sort/sortBuilder");r.sortBuilderFactory=l.sortBuilderFactory;var d=e("./utils/field-key-utils");Object.keys(d).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in r&&r[e]===d[e])return;r[e]=d[e]});var c=e("./utils/schema-utils");Object.keys(c).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in r&&r[e]===c[e])return;r[e]=c[e]});var f=e("./postprocessing/ref-transformer");Object.keys(f).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(n,e))return;if(e in r&&r[e]===f[e])return;r[e]=f[e]})},{"./aggregate":12,"./data-api":13,"./multiref":16,"./postprocessing/ref-transformer":17,"./query":18,"./sort/sortBuilder":19,"./utils/field-key-utils":21,"./utils/schema-utils":22,"@babel/runtime/helpers/interopRequireDefault":4}],16:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.WixDataQueryReferencedResult=void 0;var d=i(e("@babel/runtime/helpers/defineProperty"));class n{constructor(e,t,r,i,n,a={}){(0,d.default)(this,"provider",void 0);(0,d.default)(this,"collectionName",void 0);(0,d.default)(this,"referenceAttribute",void 0);(0,d.default)(this,"holdingItemId",void 0);(0,d.default)(this,"result",void 0);(0,d.default)(this,"options",void 0);(0,d.default)(this,"skip",void 0);(0,d.default)(this,"limit",void 0);this.provider=e;this.collectionName=t;this.referenceAttribute=r;this.holdingItemId=i;this.result=n;this.options=a;const s=a.skip,o=s===void 0?0:s,u=a.limit,l=u===void 0?50:u;this.skip=o;this.limit=l}get items(){return this.result.items}get totalCount(){return this.result.totalCount}hasNext(){return this.skip+this.limit<this.result.totalCount}hasPrev(){return this.skip>0}next(){return a.call(this,this.skip+this.limit)}prev(){return a.call(this,this.skip-this.limit)}}r.WixDataQueryReferencedResult=n;function a(e){const t=e>=0?e:0;const r={...this.options,skip:t,limit:this.limit};return this.provider.queryReferenced(this.collectionName,this.holdingItemId,this.referenceAttribute,r).then(e=>new n(this.provider,this.collectionName,this.referenceAttribute,this.holdingItemId,e,r))}},{"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4}],17:[function(e,t,r){"use strict";r.__esModule=true;r.forEachReferenceField=i;r.unwrapReferenceField=n;r.unwrapAllReferences=a;function i(t,e){if(t.fields){Object.keys(t.fields||{}).map(e=>[e,t.fields[e]]).filter(e=>e[1].type==="reference").map(e=>e[0]).forEach(e)}}function n(e,t){if(e.hasOwnProperty(t)&&e[t]&&e[t].hasOwnProperty("_id")){e[t]=e[t]._id}return e}function a(e,t){const r={...t};i(e,n.bind(null,r));return r}},{}],18:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.queryFactory=h;r.WixDataQueryReferencedResult=r.WixDataQuery=void 0;var o=i(e("@babel/runtime/helpers/defineProperty"));var n=e("@wix/wix-data-utils");var s=e("@wix/wix-data-errors");var a=e("@wix/platformized-filter-builder");var u=i(e("./sort/sortMixin"));const l=9007199254740991;const d=1e3;class c extends(0,a.filterMixin)((0,u.default)()){constructor(e){super(e);(0,o.default)(this,"provider",void 0);(0,o.default)(this,"collectionName",void 0);(0,o.default)(this,"limitNumber",void 0);(0,o.default)(this,"orderBy",void 0);(0,o.default)(this,"skipNumber",void 0);(0,o.default)(this,"included",void 0);this.provider=e.provider;this.collectionName=e.collectionName;this.limitNumber=e.limitNumber;this.invalidArguments=e.invalidArguments;this.orderBy=e.orderBy;this.skipNumber=e.skipNumber;this.included=e.included}get constructorName(){return"WixDataQuery"}count(e){return f(this.invalidArguments,this.collectionName).then(()=>(0,s.apiValidator)().options(e).validateAndReject()).then(()=>this.provider.count(this.collectionName,this.filterTree,e)).then(e=>e.totalCount)}distinct(t,r){const i=this;return f(this.invalidArguments,this.collectionName).then(()=>(0,s.apiValidator)().options(r).validateAndReject()).then(()=>(0,s.apiValidator)().fieldName(t).validateAndReject()).then(()=>this.provider.distinct(this.collectionName,this.filterTree,this.orderBy,t,this.skipNumber,this.limitNumber,r)).then(e=>{return new p({items:e.items,length:e.items.length,query:i,totalCount:e.totalCount,partialIncludes:false,pagingFunction(){return this.distinct(t,r)}})})}_transformOrderingForAggregates(e=[],t){if(e.length>0){return e.filter(e=>e.hasOwnProperty(t)).map(e=>{return{_id:e[t]}})}else{return null}}_distinctValuesPipeline(e){return[this.filterTree&&Object.keys(this.filterTree).length>0?{$match:this.filterTree}:null,{$distinct:`$${e}`}].filter(this._stageFilter)}_stageFilter(e){return e!==null}find(i){const n=this;const a=(i||{}).omitTotalCount;return f(this.invalidArguments,this.collectionName).then(()=>(0,s.apiValidator)().options(i).validateAndReject()).then(()=>{const e=a?Math.min(this.limitNumber+1,d):this.limitNumber;return this.provider.find(this.collectionName,this.filterTree,this.orderBy,this.skipNumber,e,i,this.included,a)}).then(e=>{const t=e.items.length>this.limitNumber;const r=a?e.items.slice(0,this.limitNumber):e.items;return new p({totalCount:e.totalCount,query:n,items:r,partialIncludes:e.partialIncludes,hasExtraItem:t,pagingFunction(){return this.find(i)}})})}limit(e){const t=this._queryValidator(".limit").arityIsOne(arguments).isPositiveNumber(e).isInteger(e).validateAndAggregate(),r=t[0];return new c({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,orderBy:this.orderBy,skipNumber:this.skipNumber,limitNumber:e,included:this.included,invalidArguments:r})}skip(e){const t=this._queryValidator(".skip").arityIsOne(arguments).isNonNegativeNumber(e).isInteger(e).validateAndAggregate(),r=t[0];return new c({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,orderBy:this.orderBy,skipNumber:e,limitNumber:this.limitNumber,included:this.included,invalidArguments:r})}include(...t){const r=(0,n.clone)(this.included);for(let e=0;e<t.length;e++){r.push(t[e])}return new c({provider:this.provider,collectionName:this.collectionName,filterTree:this.filterTree,orderBy:this.orderBy,skipNumber:this.skipNumber,limitNumber:this.limitNumber,invalidArguments:this.invalidArguments,included:r})}setFilterModel(e){const t=super.setFilterModel(e);return this._setQuerySpecificInvalidArguments(t)}setSortModel(e){const t=super.setSortModel(e);return this._setQuerySpecificInvalidArguments(t)}_setQuerySpecificInvalidArguments(e){const t=(e,t)=>e!==undefined?t.validateAndAggregate()[0]:[];const r=this._queryValidator(".limit",[]).isPositiveNumber(this.limitNumber).isInteger(this.limitNumber);const i=this._queryValidator(".skip",[]).isNonNegativeNumber(this.skipNumber).isInteger(this.skipNumber);const n=[...t(this.limitNumber,r),...t(this.skipNumber,i)];return Object.assign(e,{invalidArguments:n})}_queryValidator(e,t=this.invalidArguments){return new y(e,t)}}r.WixDataQuery=c;function f(e,t){const r=(0,n.isString)(t)?[]:[s.messages.queryValidations.collectionNameIsRequired()];const i=r.concat(e);if(i.length>0){return Promise.reject((0,s.validationError)(s.messages.queryValidations.queryInvalid(t,i)))}else{return Promise.resolve()}}function h(e,t){return new c({provider:e,collectionName:t,filterTree:{},orderBy:undefined,skipNumber:0,limitNumber:50,invalidArguments:[],included:[]})}function m(e,t,r){const i=e.skipNumber||0;let n=e.limitNumber===undefined?t:e.limitNumber;if(r){n=Math.min(n,t)}return r?i+n:i-n}class p{constructor(e){(0,o.default)(this,"_items",void 0);(0,o.default)(this,"_totalCount",void 0);(0,o.default)(this,"_query",void 0);(0,o.default)(this,"_partialIncludes",void 0);(0,o.default)(this,"_pagingFunction",void 0);(0,o.default)(this,"_hasExtraItem",void 0);(0,o.default)(this,"nextSkipNumber",void 0);(0,o.default)(this,"prevSkipNumber",void 0);if(!e){return}this._items=e.items;this._totalCount=e.totalCount;this._query=e.query;this._partialIncludes=e.partialIncludes;this._pagingFunction=e.pagingFunction;this._hasExtraItem=e.hasExtraItem;this.nextSkipNumber=m(this.query,this.length,true);this.prevSkipNumber=m(this.query,this.length,false)}get items(){return this._items}get length(){return this.items.length}get totalCount(){return this._totalCount}get query(){return this._query}get pageSize(){return this._query.limitNumber||50}get totalPages(){if(this.totalCount===undefined){return undefined}return Math.ceil(this.totalCount/this.pageSize)}get currentPage(){if(this.length===0){return undefined}const e=this.query.skipNumber||0;if(this.totalCount<=0||e>=this.totalCount){return undefined}return Math.floor(e/this.pageSize)}get partialIncludes(){return this._partialIncludes}next(){const e=new c({provider:this.query.provider,collectionName:this.query.collectionName,filterTree:this.query.filterTree,orderBy:this.query.orderBy,skipNumber:m(this.query,this.length,true),limitNumber:this.query.limitNumber,included:this.query.included,invalidArguments:[]});return this._pagingFunction.bind(e)()}prev(){const e=m(this.query,this.length,false);if(e<0){return Promise.reject((0,s.validationError)(s.messages.queryValidations.invalidSkipParameter(this.query.collectionName,e)))}else{const t=new c({provider:this.query.provider,collectionName:this.query.collectionName,filterTree:this.query.filterTree,orderBy:this.query.orderBy,skipNumber:e,limitNumber:this.query.limitNumber,included:this.query.included,invalidArguments:[]});return this._pagingFunction.bind(t)()}}hasNext(){if(this.totalCount===undefined){if(this._hasExtraItem){return true}return this.query.limitNumber>=d&&this.length===d}if(this.totalCount<=0){return false}const e=m(this.query,this.length,true);return e<this.totalCount}hasPrev(){if(this.totalCount<=0){return false}const e=m(this.query,this.length,false);return e>=0}toJSON(){return{items:this._items,length:this._items?this._items.length:0,totalCount:this._totalCount,query:this._query}}}class g{constructor(e,t,r,i,n,a,s){(0,o.default)(this,"provider",void 0);(0,o.default)(this,"collectionName",void 0);(0,o.default)(this,"referenceAttribute",void 0);(0,o.default)(this,"holdingItemId",void 0);(0,o.default)(this,"totalCount",void 0);(0,o.default)(this,"skip",void 0);(0,o.default)(this,"limit",void 0);this.provider=e;this.collectionName=t;this.referenceAttribute=r;this.holdingItemId=i;this.totalCount=n;this.skip=a;this.limit=s}hasNext(){return this.skip+this.limit<this.totalCount}hasPrev(){return this.skip>0}next(){return this.provider.queryReferenced(this.collectionName,this.holdingItemId,this.referenceAttribute,{skip:this.skip+this.limit,limit:this.limit})}prev(){const e=this.skip-this.limit;const t=e>=0?e:0;return this.provider.queryReferenced(this.collectionName,this.holdingItemId,this.referenceAttribute,{skip:t,limit:this.limit})}}r.WixDataQueryReferencedResult=g;class y extends s.AggregatingValidator{constructor(e,t){super(t);this.operatorName=e}_isNumber(e,t){return this.addValidation(()=>(0,n.isNumber)(t),()=>s.messages.queryValidations.isNumber(this.operatorName,e,t))}isPositiveNumber(e){return this._isNumber("positive",e).addValidation(()=>!Number.isNaN(e)&&e>0,()=>s.messages.queryValidations.isPositiveNumber(this.operatorName,e))}isNonNegativeNumber(e){return this._isNumber("non-negative",e).addValidation(()=>!Number.isNaN(e)&&e>=0,()=>s.messages.queryValidations.isNonNegativeNumber(this.operatorName,e))}isInteger(e){return this.addValidation(()=>!Number.isNaN(e)&&Number.isFinite(e)&&Number.isInteger(e)&&e<l&&e>-l,()=>s.messages.queryValidations.isInteger(this.operatorName,e))}notGreaterThan(e,t){return this.addValidation(()=>e<=t,()=>s.messages.queryValidations.notGreaterThan(this.operatorName,e,t))}}},{"./sort/sortMixin":20,"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/platformized-filter-builder":10,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],19:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.sortBuilderFactory=s;r.QuerySort=void 0;var n=i(e("./sortMixin"));class a extends(0,n.default)(){_build(){return this.getSortModel()}}r.QuerySort=a;function s(){return new a(undefined)}},{"./sortMixin":20,"@babel/runtime/helpers/interopRequireDefault":4}],20:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.default=r.SortValidator=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var l=e("@wix/wix-data-utils");var a=e("@wix/wix-data-errors");const s=(e=class{})=>class extends e{constructor(e={}){super(e);(0,n.default)(this,"orderBy",void 0);(0,n.default)(this,"invalidArguments",void 0);this.orderBy=e.orderBy||[];this.invalidArguments=e.invalidArguments||[]}ascending(...e){return this._sortClause("asc",".ascending",e)}descending(...e){return this._sortClause("desc",".descending",e)}getSortModel(){if(this.invalidArguments.length>0){throw(0,a.validationError)(a.messages.sortBuilderInvalid(this.invalidArguments))}return this.orderBy}setSortModel(e){return this._copySort(e,[])}_sortClause(e,t,r){let i=[];if(this.orderBy){i=(0,l.clone)(this.orderBy)}const n=d(i,e);const a=(0,l.isArray)(r[0])&&r.length===1?r[0]:Array.prototype.slice.call(r,0);const s=this._sortValidator(t).arityIsAtLeastOne(r).allStrings(a).validateAndAggregate(),o=s[0],u=s[1];if(u){a.forEach(n)}return this._copySort(i,o)}_sortValidator(e){return new o(e,this.invalidArguments)}_copySort(e,t){return new this.constructor({...this,orderBy:e,invalidArguments:t})}};function d(r,i){return e=>{const t={};t[e]=i;r.push(t)}}class o extends a.AggregatingValidator{constructor(e,t){super(t);this.operatorName=e}allStrings(e){return this.addValidation(()=>e.every(l.isString),()=>{return a.messages.sortValidations.typeIsStringOrArrayOfStrings(this.operatorName,e)})}}r.SortValidator=o;var u=s;r.default=u},{"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/wix-data-errors":25,"@wix/wix-data-utils":28}],21:[function(e,t,r){"use strict";r.__esModule=true;r.hasField=i;function i(t,r){if(!t){return false}if(Array.isArray(t)){return t.some(e=>i(e,r))}if(typeof t==="object"){const e=Object.keys(t);return e.some(e=>r(e)||i(t[e],r))}return false}},{}],22:[function(e,t,r){"use strict";r.__esModule=true;r.isDriverCollection=i;r.isNativeCollection=n;r.isAppBuilderCollection=a;r.isConnectorSchema=s;r.isDynamicApplicationSchema=o;r.isSameNamespace=u;function i(e){return e.storage==="driver"}function n(e){return e.storage==="docstore"}function a(e){return e.includes("/")&&e.includes(".")&&e.indexOf(".")<e.indexOf("/")}function s(e){return e.storage==="external"}function o(e){return e.storage==="dynamicApplication"}function u(e,t){const r=e=>e.split("/")[0];return r(e)===r(t)}},{}],23:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.RejectingValidator=r.AggregatingValidator=void 0;var n=i(e("@babel/runtime/helpers/defineProperty"));var a=e("@wix/wix-data-utils");var s=e("./errors");class o{constructor(){(0,n.default)(this,"_validations",void 0);(0,n.default)(this,"operatorName",void 0);this._validations=[]}arityIsZero(e){return this.addValidation(()=>e.length===0,()=>s.messages.arityValidations.arityIsZero(this.operatorName))}arityIsOne(e){return this.addValidation(()=>e.length===1,()=>s.messages.arityValidations.arityIsOne(this.operatorName))}arityIsTwo(e){return this.addValidation(()=>e.length===2,()=>s.messages.arityValidations.arityIsTwo(this.operatorName))}arityIsThree(e){return this.addValidation(()=>e.length===3,()=>s.messages.arityValidations.arityIsThree(this.operatorName))}arityIsAtLeastTwo(e){return this.addValidation(()=>e.length>=2,()=>s.messages.arityValidations.arityIsAtLeastTwo(this.operatorName))}arityIsAtLeastOne(e){return this.addValidation(()=>e.length>=1,()=>s.messages.arityValidations.arityIsAtLeastOne(this.operatorName))}addValidation(e,t){this._validations.push({predicateFn:e,messageFn:t});return this}}class u extends o{constructor(e){super();(0,n.default)(this,"_invalidArguments",void 0);this._invalidArguments=(0,a.clone)(e)}validateAndAggregate(){const e=this._validations.every(({predicateFn:e,messageFn:t})=>this._appendIfInvalid(e(),t()));return[this._invalidArguments,e]}_appendIfInvalid(e,t){if(!e){this._invalidArguments.push(t);return false}return true}}r.AggregatingValidator=u;class l extends o{validateAndReject(){return Promise.resolve().then(()=>{this._validations.forEach(({predicateFn:e,messageFn:t})=>{if(!e()){throw(0,s.validationError)(t())}})})}}r.RejectingValidator=l},{"./errors":24,"@babel/runtime/helpers/defineProperty":3,"@babel/runtime/helpers/interopRequireDefault":4,"@wix/wix-data-utils":28}],24:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.wixDataError=d;r.validationError=c;r.isDataHookError=h;r.dataHookError=m;r.schemaNotFoundError=g;r.BulkError=y;r.DATA_HOOK_ERROR_NAME=r.codes=r.messages=void 0;var n=e("@wix/wix-data-utils");var a=e("@wix/cloud-base-errors-definitions");var s=i(e("safe-json-stringify"));function o(e){return(0,s.default)(e)}const u={collectionNameMustBeAString:()=>"WDE0001: Collection name must be a string.",itemIdMustBeAString:()=>"WDE0002: ItemId must be a string.",itemIdsMustBeArrayOfStrings:()=>"WDE0068: Item ids must be an array of strings",removeItemsMustBeLessThanThousand:e=>`WDE0069: Failed to remove items from [${e}].\nCannot remove more than 1000 items in one request`,fieldNameMustBeAString:()=>"WDE0003: FieldName must be a string.",itemMustBeAnObject:(e,t)=>`WDE0004: Failed to save [${e}] into [${t}].\nItems must be JavaScript objects.`,itemsMustBeArrayOfObjects:e=>`WDE0005: Failed to bulk save items into [${e}].\nItems must be an array of JavaScript objects and itemIds must be strings if present.`,itemsMustBeLessThanThousand:e=>`WDE0006: Failed to bulk save items into [${e}].\nCannot insert more than 1000 items in one request`,updateItemInvalid:()=>"WDE0007: Invalid update. Updated object must have a string _id property.",invalidArgumentLength:(e,t,r,i)=>`WDE0008: wixData.${e} expects between ${t} and ${r} arguments, but was called with ${i}.`,documentTooLarge:()=>"WDE0009: Document is too large.",aggregateValidations:{aggregateInvalid:(e,t)=>`Failed to perform aggregation on [${e}].\n${t.join("\n")}`,filterMustBeBuilder:e=>`WDE0011: Invalid ${e} usage. ${e} requires WixDataFilter.`,filterIsAlreadySet:e=>`WDE0012: Invalid ${e} usage. Filter is already set.`,groupIsAlreadySet:e=>`WDE0013: Invalid ${e} usage. Group is already set.`},filterBuilderInvalid:e=>`Failed to build a filter.\n${e.join("\n")}.`,groupBuilderInvalid:e=>`Failed to build group.\n${e.join("\n")}.`,filterMustBeAnObject:()=>"WDE0016: Filter must be an object.",sortBuilderInvalid:e=>`Failed to build a sort.\n${e.join("\n")}.`,optionsInvalid:e=>`WDE0018: Options must be an object with one or all of the following boolean properties: ${e.join(", ")}.`,referenceOperationParameterError:()=>"WDE0019: Reference operation takes a string ID or an object with an ID to be connected.",referenceOperationFieldError:e=>`WDE0020: Provided relationshipAttribute [${e}] is not a multi-reference field.`,invalidReferenceError:()=>`WDE0021: Invalid reference`,multipleMultiRefIncludeError:()=>"WDE0022: Unable to execute a query. Only single multi-reference field can be included.",multiRefItemLimitError:()=>"WDE0023: Can not fetch more than 50 elements when include is being used on multi-reference field",fieldIsDeleted:()=>"WDE0024: Field is deleted",schemaDoesNotExist:e=>`WDE0025: The ${e} collection does not exist. You cannot work with a collection using the Data API before it is created in the Editor.`,collectionDeleted:e=>`WDE0026: The ${e} collection was removed, so you cannot work with it. To restore its data, create a new collection with the same name.`,permissionDenied:(e,t)=>`WDE0027: The current user does not have permissions to ${e} on the ${t} collection.`,requestTimedOut:()=>`WDE0028: Request timed out.`,internalAuthorizationProblem:()=>"WDE0029: An internal error has occurred while trying to check authorization.",queryValidations:{queryInvalid:(e,t)=>`Failed to perform query on [${e}].\n${t.join("\n")}`,collectionNameIsRequired:()=>"WDE0031: Collection name is required and must be a string.",isNumber:(e,t,r)=>`WDE0032: Invalid ${e} parameter [${(0,n.typeForDisplay)(r)}]. ${e} parameter must be a ${t} number.`,isPositiveNumber:(e,t)=>`WDE0033: Invalid ${e} parameter [${t}]. ${e} parameter must be a positive number.`,isNonNegativeNumber:(e,t)=>`WDE0034: Invalid ${e} parameter [${t}]. ${e} parameter must be a non-negative number.`,isInteger:(e,t)=>`WDE0035: Invalid ${e} parameter [${t}]. ${e} parameter must be an integer.`,notGreaterThan:(e,t,r)=>`WDE0036: Invalid ${e} parameter [${t}]. ${e} parameter cannot exceed ${r}.`,invalidSkipParameter:(e,t)=>`WDE0037: Invalid query on [${e}].\nInvalid prev positioned query skip on a negative number ${t}.`},arityValidations:{arityIsZero:e=>`WDE0038: Invalid ${e} usage. ${e} does not take parameters.`,arityIsOne:e=>`WDE0039: Invalid ${e} usage. ${e} requires one parameter.`,arityIsTwo:e=>`WDE0040: Invalid ${e} usage. ${e} requires two parameters.`,arityIsThree:e=>`WDE0041: Invalid ${e} usage. ${e} requires three parameters.`,arityIsAtLeastTwo:e=>`WDE0042: Invalid ${e} usage. ${e} requires at least two parameters.`,arityIsAtLeastOne:e=>`WDE0043: Invalid ${e} usage. ${e} requires at least one parameter.`},filterValidations:{typeIsString:(e,t)=>`WDE0044: Invalid ${e} parameter value [${(0,n.typeForDisplay)(t)}]. ${e} parameter must be a String.`,typeIsStringNumberOrDate:(e,t)=>`WDE0045: Invalid ${e} parameter value [${(0,n.typeForDisplay)(t)}]. Valid ${e} parameter types are String, Number or Date.`,sameType:(e,t,r)=>`WDE0046: Invalid ${e} parameter values [${(0,n.typeForDisplay)(t)}] and [${(0,n.typeForDisplay)(r)}]. Both parameters must be of the same type.`,typeIsStringNumberOrDateForAll:e=>`WDE0047: Invalid ${e} usage. ${e} supports only Number, String or Date items.`,validFieldName:(e,t)=>`WDE0048: Invalid ${e} field value [${(0,n.typeForDisplay)(t)}]. ${e} field must be a String.`,isInstanceOfSameClass:(e,t,r)=>`WDE0049: Invalid ${e} parameter [${(0,n.typeForDisplay)(r)}]. ${e} expects ${t} only.`,isForCollection:(e,t,r)=>`WDE0050: Invalid ${e} parameter query for [${r}]. ${e} accepts ${t} for the same collection only.`,incorrectDraftPublishFilter:()=>`WDE0093: Invalid filter for _publishStatus field, only .eq and .ne filters are allowed with 'DRAFT' and 'PUBLISHED' possible values.`},filterTreeValidationsAjv:{objectType:e=>`WDE0056: ${e} should be an Object. Got \${0} instead`,arrayType:e=>`WDE0057: ${e} should be an Array. Got \${0} instead`,arrayLength:(e,t)=>`WDE0057: \${0}.length is \${0/length}. ${e} Array should have length ${t}`,comparisonOperatorType:e=>`WDE0058: ${e} should be a Date, Number, or String. Got \${0} instead`,stringOperatorType:e=>`WDE0059: ${e} should be a String. Got \${0} instead`,setOperatorItems:e=>`WDE0060: ${e} Array should only contain values of types Date, Number, and String. Got \${0} instead`,inOperatorItems:()=>`WDE0061: $in Array should have length 2, and match [String, Number]. Got \${0} instead`,matchesOperatorRequiredProperty:e=>`WDE0062: $matches value \${0} does not have property ${e}`,matchesOperatorIgnoreCase:()=>`WDE0063: $matches.ignoreCase should equal true. Got \${0/ignoreCase} instead`,matchesOperatorSpecItems:()=>`WDE0064: $matches.spec Array values should be either {"type":"anyOf","value":" -"} or {"type":"literal","value":String}. Got \${0} instead`,regexNotAllowed:()=>"WDE0070: $regex keyword is not allowed."},filterTreeValidations:{objectType:(e,t)=>`WDE0056: ${e} should be an Object. Got ${o(t)} instead`,arrayType:(e,t)=>`WDE0057: ${e} should be an Array. Got ${o(t)} instead`,arrayLength:(e,t,r)=>`WDE0057: ${o(r)}.length is ${r.length}. ${e} Array should have length ${t}`,comparisonOperatorType:(e,t)=>`WDE0058: ${e} should be a Date, Number, or String. Got ${o(t)} instead`,stringOperatorType:(e,t)=>`WDE0059: ${e} should be a String. Got ${o(t)} instead`,setOperatorItems:(e,t)=>`WDE0060: ${e} Array should only contain values of types Date, Number, and String. Got ${o(t)} instead`,inOperatorItems:e=>`WDE0061: $in Array should have length 2, and match [String, Number]. Got ${o(e)} instead`,matchesOperatorRequiredProperty:(e,t)=>`WDE0062: $matches value ${o(t)} does not have property ${e}`,matchesOperatorIgnoreCase:e=>`WDE0063: $matches.ignoreCase should equal true. Got ${o(e)} instead`,matchesOperatorSpecItems:e=>`WDE0064: $matches.spec Array values should be either {"type":"anyOf","value":" -"} or {"type":"literal","value":String}. Got ${o(e)} instead`,regexNotAllowed:()=>"WDE0070: $regex keyword is not allowed."},sortValidations:{typeIsStringOrArrayOfStrings:(e,t)=>`WDE0051: Invalid ${e} parameters [${t.map(n.typeForDisplay)}]. Valid ${e} values are String, Array of String or varargs String.`},orderByValidationsAjv:{sortModelType:()=>`WDE0065: Sort Model should be an Array. Got \${0} instead`,sortModelItemType:()=>`WDE0066: Sort Model Array should contain values of type Object only. Got \${0} instead`,sortModelItem:()=>`WDE0067: Sort Model Array items should have a single property with value "asc" or "desc". Got \${0} instead`},orderByValidations:{sortModelType:e=>`WDE0065: Sort Model should be an Array. Got ${o(e)} instead`,sortModelItemType:e=>`WDE0066: Sort Model Array should contain values of type Object only. Got ${o(e)} instead`,sortModelItem:e=>`WDE0067: Sort Model Array items should have a single property with value "asc" or "desc". Got ${o(e)} instead`},siteIsInTemplateMode:()=>"WDE0052: The current site is in template mode. Please save it to modify data.",internalError:e=>`WDE0053: Internal wixData error: ${e}`,serverGeneralError:()=>"WDE0054: The server could not fulfill the request.",serverInvalidResponse:()=>"WDE0055: Failed to parse server response.",tooManyRequests:()=>"WDE0014: Too many requests.",operationNotSupported:(e,t)=>`${e} does not support ${t} operation.`,databaseQuotaExceeded:()=>"WDE0091: Database quota exceeded. Delete some data and try again.",itemDoesNotExist:(e,t)=>`WDE0073: Item [${e}] does not exist in collection [${t}].`,invalidLimit:e=>`WDE0077: 'limit' cannot exceed ${e}`,datasetTooLargeToSort:()=>"WDE0092: Dataset is too large to sort.",invalidIdForSingleItemCollection:(e,t,r)=>`WDE0079: [${e}] is a single item collection and item must have id [${t}], but got [${r}] instead.`,payloadIsTooLarge:()=>"WDE0109: Payload is too large."};r.messages=u;const l={ItemDoesNotExist:"WD_ITEM_DOES_NOT_EXIST",ItemAlreadyExists:"WD_ITEM_ALREADY_EXISTS",SiteInTemplateMode:"WD_SITE_IN_TEMPLATE_MODE",UnknownError:"WD_UNKNOWN_ERROR",ValidationError:"WD_VALIDATION_ERROR",CollectionDeleted:"WD_COLLECTION_DELETED",SchemaDoesNotExist:"WD_SCHEMA_DOES_NOT_EXIST",PermissionDenied:"WD_PERMISSION_DENIED",BadRequest:"WD_BAD_REQUEST",Unauthorized:"WD_UNAUTHORIZED",TooManyRequests:"WD_TOO_MANY_REQUESTS",RequestTimedOut:"WD_REQUEST_TIMED_OUT",QuotaExceeded:"WD_DATABASE_QUOTA_EXCEEDED",QueryExecutionError:"WD_QUERY_EXECUTION_ERROR"};r.codes=l;function d(e,t){return p(e,t)}function c(e){return p(e,l.ValidationError)}const f="WixDataHookError";r.DATA_HOOK_ERROR_NAME=f;function h(e){return e instanceof Error&&e.name===f}function m(e){function t(e){if(e===undefined){return{type:"undefined"}}else if(e instanceof Error){const t=e.name,r=e.message,i=e.code;return{type:"error",value:{name:t,message:r,code:i}}}else{return{type:"value",value:e}}}const r=new Error(o(t(e)));r.name=f;r.originalError=e;if(Error.captureStackTrace){Error.captureStackTrace(r,m)}return r}function p(e,t){const r=t&&t!==l.UnknownError?v:Error;const i=new r(e);i.code=t;return i}function g(e){return d(u.schemaDoesNotExist(e),l.SchemaDoesNotExist)}function y(e,t,r,i,n){const a=new Error(e);if(i){a.name=i}a.code=t;a.item=r;a.originalIndex=n;Object.setPrototypeOf(a,Object.getPrototypeOf(this));if(Error.captureStackTrace){Error.captureStackTrace(a,y)}return a}y.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:false,writable:true,configurable:true}});function v(e){const t=new a.UserCodeError(e);Object.setPrototypeOf(t,Object.getPrototypeOf(this));if(Error.captureStackTrace){Error.captureStackTrace(t,v)}t.name=Error.name;return t}v.prototype=Object.create(a.UserCodeError.prototype,{constructor:{value:v,enumerable:false,writable:true,configurable:true}})},{"@babel/runtime/helpers/interopRequireDefault":4,"@wix/cloud-base-errors-definitions":7,"@wix/wix-data-utils":28,"safe-json-stringify":32}],25:[function(e,t,r){"use strict";r.__esModule=true;var i=e("./validations");r.apiValidator=i.apiValidator;var n=e("./base-validator");r.AggregatingValidator=n.AggregatingValidator;r.RejectingValidator=n.RejectingValidator;var a=e("./errors");r.messages=a.messages;r.codes=a.codes;r.wixDataError=a.wixDataError;r.validationError=a.validationError;r.DATA_HOOK_ERROR_NAME=a.DATA_HOOK_ERROR_NAME;r.isDataHookError=a.isDataHookError;r.dataHookError=a.dataHookError;r.schemaNotFoundError=a.schemaNotFoundError;r.BulkError=a.BulkError},{"./base-validator":23,"./errors":24,"./validations":26}],26:[function(e,t,r){"use strict";r.__esModule=true;r.apiValidator=o;var n=e("./errors");var i=e("@wix/wix-data-utils");var a=e("./base-validator");class s extends a.RejectingValidator{arity(e,t,r,i){return this.addValidation(()=>t.length<=i&&t.length>=r,()=>n.messages.invalidArgumentLength(e,r,i,t.length))}_isObject(e,t){return this.addValidation(()=>(0,i.isObject)(e),()=>n.messages.itemMustBeAnObject(e,t))}item(e,t,r){return this._isObject(e,t).addValidation(()=>e._id!==undefined?(0,i.isString)(e._id):!r,()=>n.messages.updateItemInvalid())}items(e,t){return this.addValidation(()=>(0,i.isArray)(e)&&e.every(e=>(0,i.isObject)(e)&&(e._id===undefined||e._id===null||(0,i.isString)(e._id))),()=>n.messages.itemsMustBeArrayOfObjects(t)).addValidation(()=>e.length<=1e3,()=>n.messages.itemsMustBeLessThanThousand(t))}fieldName(e){return this.addValidation(()=>(0,i.isString)(e),()=>n.messages.fieldNameMustBeAString())}itemId(e){return this.addValidation(()=>(0,i.isString)(e),()=>n.messages.itemIdMustBeAString())}itemIds(e,t){return this.addValidation(()=>(0,i.isArray)(e)&&e.every(e=>(0,i.isString)(e)),()=>n.messages.itemIdsMustBeArrayOfStrings()).addValidation(()=>e.length<=1e3,()=>n.messages.removeItemsMustBeLessThanThousand(t))}_options(t,r){return this.addValidation(()=>{const e=(0,i.isObject)(t)&&r.every(e=>u(t[e]));return t==null||e},()=>n.messages.optionsInvalid(r))}referenceRemoveParameters(e){return this.addValidation(()=>(0,i.isArray)(e)&&e.every(d),n.messages.referenceOperationParameterError)}referenceParameters(e){return this.addValidation(()=>(0,i.isArray)(e)&&e.every(l),n.messages.referenceOperationParameterError)}referenceParameter(e){return this.addValidation(()=>l(e),n.messages.referenceOperationParameterError)}references(e){return this.addValidation(()=>(0,i.isArray)(e)&&e.every(e=>(0,i.isString)(e.relationshipName)&&l(e.left)&&l(e.right)),n.messages.invalidReferenceError)}options(e){return this._options(e,["suppressAuth","suppressHooks","showDrafts"])}bulkInsertOptions(e){return this._options(e,["suppressAuth","suppressHooks","overrideExisting"])}bulkUpdateOptions(e){return this._options(e,["suppressAuth","suppressHooks","showDrafts"])}bulkRemoveOptions(e){return this._options(e,["suppressAuth","suppressHooks","showDrafts"])}truncateOptions(e){return this._options(e,["suppressAuth"])}collectionName(e){return this.addValidation(()=>(0,i.isString)(e),()=>n.messages.collectionNameMustBeAString())}}function o(){return new s}function u(e){return e==null||(0,i.isBoolean)(e)}function l(e){return(0,i.isString)(e)&&e!=""||(0,i.isObject)(e)&&e.hasOwnProperty("_id")}function d(e){return(0,i.isString)(e)||(0,i.isObject)(e)&&e.hasOwnProperty("_id")}},{"./base-validator":23,"./errors":24,"@wix/wix-data-utils":28}],27:[function(e,t,r){"use strict";r.__esModule=true;r.default=n;var i=e("./type-utils");function n(e){if(e==null||typeof e!=="object"){return e}let t=null;if((0,i.isDate)(e)){t=new Date(e.getTime())}else{t=e.constructor();for(const r in e){t[r]=n(e[r])}}return t}},{"./type-utils":30}],28:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;var n=i(e("./clone"));r.clone=n.default;var a=e("./type-utils");r.isObject=a.isObject;r.isArray=a.isArray;r.isDate=a.isDate;r.isNumber=a.isNumber;r.isBoolean=a.isBoolean;r.isString=a.isString;r.isFunction=a.isFunction;r.typeForDisplay=a.typeForDisplay;r.isUndefined=a.isUndefined;r.isNull=a.isNull;var s=e("./serialization");r.stringifyEntityJson=s.stringifyEntityJson;r.parseEntityJson=s.parseEntityJson},{"./clone":27,"./serialization":29,"./type-utils":30,"@babel/runtime/helpers/interopRequireDefault":4}],29:[function(e,t,r){"use strict";r.__esModule=true;r.parseEntityJson=a;r.stringifyEntityJson=s;function i(e){if(Object.prototype.toString.call(e)!=="[object Date]"){return false}return!isNaN(e.getTime())}const n=e=>!Number.isNaN(Date.parse(e));function a(e){let i=null;return JSON.parse(e,function(e,t){if(e==="$date"&&n(t)){i=new Date(t)}else if(e==="$date"){i={$date:t}}else if(i!==null){const r=i;i=null;return r}else{return t}})}function s(e){function t(e,t){return o(this,e,t)}return JSON.stringify(e,t)}function o(e,t,r){if(t&&i(e[t])){return u(e[t])}return r}function u(e){return{$date:e.toJSON()}}},{}],30:[function(e,t,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");r.__esModule=true;r.isObject=a;r.isArray=s;r.isDate=o;r.isNumber=u;r.isBoolean=l;r.isString=d;r.isFunction=c;r.typeForDisplay=f;r.isUndefined=h;r.isNull=m;var n=i(e("kind-of"));function a(e){return(0,n.default)(e)==="object"}function s(e){return(0,n.default)(e)==="array"}function o(e){return(0,n.default)(e)==="date"}function u(e){return(0,n.default)(e)==="number"}function l(e){return(0,n.default)(e)==="boolean"}function d(e){return(0,n.default)(e)==="string"}function c(e){return(0,n.default)(e)==="function"}function f(e){return p((0,n.default)(e))}function h(e){return(0,n.default)(e)==="undefined"}function m(e){return(0,n.default)(e)==="null"}function p(e){if(!d(e)){return e}const t=e.slice(0,1).toUpperCase();const r=e.slice(1,e.length);return t+r}},{"@babel/runtime/helpers/interopRequireDefault":4,"kind-of":31}],31:[function(e,t,r){var i=Object.prototype.toString;t.exports=function e(t){var r=typeof t;if(r==="undefined"){return"undefined"}if(t===null){return"null"}if(t===true||t===false||t instanceof Boolean){return"boolean"}if(r==="string"||t instanceof String){return"string"}if(r==="number"||t instanceof Number){return"number"}if(r==="function"||t instanceof Function){if(typeof t.constructor.name!=="undefined"&&t.constructor.name.slice(0,9)==="Generator"){return"generatorfunction"}return"function"}if(typeof Array.isArray!=="undefined"&&Array.isArray(t)){return"array"}if(t instanceof RegExp){return"regexp"}if(t instanceof Date){return"date"}r=i.call(t);if(r==="[object RegExp]"){return"regexp"}if(r==="[object Date]"){return"date"}if(r==="[object Arguments]"){return"arguments"}if(r==="[object Error]"){return"error"}if(r==="[object Promise]"){return"promise"}if(n(t)){return"buffer"}if(r==="[object Set]"){return"set"}if(r==="[object WeakSet]"){return"weakset"}if(r==="[object Map]"){return"map"}if(r==="[object WeakMap]"){return"weakmap"}if(r==="[object Symbol]"){return"symbol"}if(r==="[object Map Iterator]"){return"mapiterator"}if(r==="[object Set Iterator]"){return"setiterator"}if(r==="[object Int8Array]"){return"int8array"}if(r==="[object Uint8Array]"){return"uint8array"}if(r==="[object Uint8ClampedArray]"){return"uint8clampedarray"}if(r==="[object Int16Array]"){return"int16array"}if(r==="[object Uint16Array]"){return"uint16array"}if(r==="[object Int32Array]"){return"int32array"}if(r==="[object Uint32Array]"){return"uint32array"}if(r==="[object Float32Array]"){return"float32array"}if(r==="[object Float64Array]"){return"float64array"}return"object"};function n(e){return e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}},{}],32:[function(e,t,r){var i=Object.prototype.hasOwnProperty;function s(e){return"[Throws: "+(e?e.message:"?")+"]"}function o(e,t){if(i.call(e,t)){try{return e[t]}catch(e){return s(e)}}return e[t]}function n(e){var n=[];function a(r){if(r===null||typeof r!=="object"){return r}if(n.indexOf(r)!==-1){return"[Circular]"}n.push(r);if(typeof r.toJSON==="function"){try{var e=a(r.toJSON());n.pop();return e}catch(e){return s(e)}}if(Array.isArray(r)){var t=r.map(a);n.pop();return t}var i=Object.keys(r).reduce(function(e,t){e[t]=a(o(r,t));return e},{});n.pop();return i}return a(e)}t.exports=function(e,t,r){return JSON.stringify(n(e),t,r)};t.exports.ensureProperties=n},{}],"wix-data":[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.wixData=undefined;var i=e("./create-wix-data");var n=a(i);function a(e){return e&&e.__esModule?e:{default:e}}var s=r.wixData=(0,n.default)(elementorySupport);r.default=s},{"./create-wix-data":2}]},{},[]);(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.elementorySupport=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var elementorySupportFactory=require(".");module.exports=elementorySupportFactory()},{".":3}],2:[function(require,module,exports){"use strict";module.exports={PARSE:"parsererror",ERROR:"error",ABORT:"abort",TIMEOUT:"timeout"}},{}],3:[function(require,module,exports){"use strict";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _require=require("@wix/cloud-elementory-client-core"),serialize=_require.serialize,deserialize=_require.deserialize,getPathWithBaseUrl=require("./paths"),errorTypes=require("./error-types"),ONE_MINUTE=6e4,NO_XHR_STATUS_ERROR_MESSAGE="Request aborted",TIMEOUT_ERROR_MESSAGE="Request timed out",DEFAULT_WEB_METHOD_ERROR_MESSAGE="Promise in backend function rejected with undefined";module.exports=function(e,r,t){return{baseUrl:e,queryParameters:r,currentPath:t,options:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},errorTypes:errorTypes,getJSON:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=this.currentPath?location.href.replace(this.currentPath,e):getPathWithBaseUrl(this.baseUrl,e,this.queryParameters),o=this.options,n=o.headers,i=void 0===n?{}:n,s=o.withCredentials,a=void 0!==s&&s,u=o.timeout,c=void 0===u?ONE_MINUTE:u,p=_objectSpread(_objectSpread({},i),{},{"Content-Type":"application/json"});return new Promise(function(e,o){var n=new XMLHttpRequest;function i(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=new Error(r);return t.xhr=n,t.errorType=e,t}n.withCredentials=a;var s=setTimeout(function(){o(i(errorTypes.TIMEOUT,TIMEOUT_ERROR_MESSAGE)),n.abort()},c);n.open("POST",t,!0),n.onerror=function(){return o(i(errorTypes.ERROR,n.statusText))},n.onreadystatechange=function(){if(4===n.readyState)if(clearTimeout(s),200===n.status)try{var r=deserialize(n.responseText),t=r.isError,a=r.payload;if(t){var u=void 0===a?new Error(DEFAULT_WEB_METHOD_ERROR_MESSAGE):a;o(u)}else e(a)}catch(e){o(i(errorTypes.PARSE,e.message))}else{var c=n.status?errorTypes.ERROR:errorTypes.ABORT,p=n.status?n.statusText:NO_XHR_STATUS_ERROR_MESSAGE;o(i(c,p))}},Object.keys(p).forEach(function(e){return n.setRequestHeader(e,p[e])}),n.send(serialize(r))})}}}},{"./error-types":2,"./paths":4,"@wix/cloud-elementory-client-core":6}],4:[function(require,module,exports){"use strict";var sanitize=function(t){return t.startsWith("?")||t.startsWith("&")?t.substr(1):t};module.exports=function(t,n,c){if(!c)return t+n;var r=sanitize(c);return-1===n.indexOf("?")?"".concat(t).concat(n,"?").concat(r):"".concat(t).concat(n,"&").concat(r)}},{}],5:[function(require,module,exports){"use strict";var _require=require("@wix/cloud-elementory-protocol"),convertFromCustomFormat=_require.convertFromCustomFormat,convertToErrorObject=function(e){var r=new Error(e.message);return r.stack=e.stack,r.name=e.name,r.code=e.code,r},deserializeResult=function(e){return e&&e._elementoryError?convertToErrorObject(e):e},deserialize=function(e){var r=convertFromCustomFormat(JSON.parse(e)),o=r.result;return{isError:!!r.exception,payload:deserializeResult(o)}};module.exports={deserialize:deserialize,deserializeResult:deserializeResult}},{"@wix/cloud-elementory-protocol":12}],6:[function(require,module,exports){"use strict";var _require=require("./serialize"),serialize=_require.serialize,_require2=require("./deserialize"),deserialize=_require2.deserialize,deserializeResult=_require2.deserializeResult;module.exports={serialize:serialize,deserialize:deserialize,deserializeResult:deserializeResult}},{"./deserialize":5,"./serialize":7}],7:[function(require,module,exports){"use strict";function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var _require=require("@wix/cloud-elementory-protocol"),convertToCustomFormat=_require.convertToCustomFormat,serialize=function(r){return JSON.stringify(convertToCustomFormat(_toConsumableArray(r)))};module.exports={serialize:serialize}},{"@wix/cloud-elementory-protocol":12}],8:[function(require,module,exports){"use strict";function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,r,e){return r&&_defineProperties(t.prototype,r),e&&_defineProperties(t,e),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _require=require("../mapValues"),mapValues=_require.mapValues,isObjectButNotNull=function(t){return null!==t&&"object"===_typeof(t)},ConvertersComposer=function(){function t(){_classCallCheck(this,t);for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];this._converters=e}return _createClass(t,[{key:"convertToCustomFormat",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(isObjectButNotNull(t)){if(r.has(t))throw new TypeError("Converting circular structure to JSON");r.add(t)}if(Array.isArray(t))return this._convertArray(t,r);var o=this._findConverterToCustomFormat(t).convertToCustomFormat(t,e);return isObjectButNotNull(t)?this._convertObject(o,t,r):o}},{key:"convertFromCustomFormat",value:function(t){var r=this,e=t;return Array.isArray(t)?e=t.map(function(t){return r.convertFromCustomFormat(t)}):isObjectButNotNull(t)&&(e=mapValues(t,this.convertFromCustomFormat.bind(this))),this._findConverterFromCustomFormat(e).convertFromCustomFormat(e)}},{key:"_convertObject",value:function(t,r,e){var o,n=this;return o="function"==typeof t.toJSON?mapValues(t.toJSON(),function(t){return n.convertToCustomFormat(t,e)}):mapValues(t,function(t){return n.convertToCustomFormat(t,e)}),e.delete(r),o}},{key:"_convertArray",value:function(t,r){var e=this,o=t.map(function(t){return e.convertToCustomFormat(t,r,!0)});return r.delete(t),o}},{key:"_findConverterFromCustomFormat",value:function(t){return this._converters.find(function(r){return r.canConvertFromCustomFormat(t)})}},{key:"_findConverterToCustomFormat",value:function(t){return this._converters.find(function(r){return r.canConvertToCustomFormat(t)})}}]),t}();module.exports={ConvertersComposer:ConvertersComposer}},{"../mapValues":13}],9:[function(require,module,exports){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var isDateString=function(e){return!Number.isNaN(Date.parse(e))},DateConverter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canConvertToCustomFormat",value:function(e){return e instanceof Date}},{key:"convertToCustomFormat",value:function(e){return{$date:e.toISOString()}}},{key:"canConvertFromCustomFormat",value:function(e){return e&&"object"===_typeof(e)&&"$date"in e&&isDateString(e.$date)}},{key:"convertFromCustomFormat",value:function(e){return new Date(e.$date)}}]),e}();module.exports={DateConverter:DateConverter}},{}],10:[function(require,module,exports){"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var DefaultConverter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canConvertToCustomFormat",value:function(){return!0}},{key:"convertToCustomFormat",value:function(e,r){return r&&void 0===e?null:e}},{key:"canConvertFromCustomFormat",value:function(){return!0}},{key:"convertFromCustomFormat",value:function(e){return e}}]),e}();module.exports={DefaultConverter:DefaultConverter}},{}],11:[function(require,module,exports){"use strict";var _require=require("./DefaultConverter"),DefaultConverter=_require.DefaultConverter,_require2=require("./DateConverter"),DateConverter=_require2.DateConverter,_require3=require("./ConvertersComposer"),ConvertersComposer=_require3.ConvertersComposer,composedConverters=new ConvertersComposer(new DateConverter,new DefaultConverter);module.exports={convertToCustomFormat:function(e){return composedConverters.convertToCustomFormat(e)},convertFromCustomFormat:function(e){return composedConverters.convertFromCustomFormat(e)}}},{"./ConvertersComposer":8,"./DateConverter":9,"./DefaultConverter":10}],12:[function(require,module,exports){"use strict";var _require=require("../dist/converter"),convertToCustomFormat=_require.convertToCustomFormat,convertFromCustomFormat=_require.convertFromCustomFormat,_require2=require("../dist/web-method-protocol"),resultToWebMethodPayload=_require2.resultToWebMethodPayload,exceptionToWebMethodPayload=_require2.exceptionToWebMethodPayload;module.exports={convertToCustomFormat:convertToCustomFormat,convertFromCustomFormat:convertFromCustomFormat,resultToWebMethodPayload:resultToWebMethodPayload,exceptionToWebMethodPayload:exceptionToWebMethodPayload}},{"../dist/converter":11,"../dist/web-method-protocol":14}],13:[function(require,module,exports){"use strict";function mapValues(a,e){var u={};return Object.keys(a).forEach(function(r){var s=e(a[r]);void 0!==s&&(u[r]=s)}),u}module.exports={mapValues:mapValues}},{}],14:[function(require,module,exports){"use strict";var _require=require("../converter"),convertToCustomFormat=_require.convertToCustomFormat,resultToWebMethodPayload=function(e,o){var t=o?JSON.parse(JSON.stringify(e,o)):convertToCustomFormat(e);return void 0===t?{}:{result:t}},exceptionToWebMethodPayload=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return""};return{result:e instanceof Error?{message:o(e.message),name:e.name,stack:t(e.stack),code:e.code,_elementoryError:!0}:e,exception:!0}};module.exports={resultToWebMethodPayload:resultToWebMethodPayload,exceptionToWebMethodPayload:exceptionToWebMethodPayload}},{"../converter":11}]},{},[1])(1)});